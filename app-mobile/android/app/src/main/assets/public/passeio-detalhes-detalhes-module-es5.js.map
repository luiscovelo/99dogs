{"version":3,"sources":["webpack:///src/app/passeio/detalhes/detalhes.page.html","webpack:///src/app/passeio/detalhes/detalhes-routing.module.ts","webpack:///src/app/passeio/detalhes/detalhes.module.ts","webpack:///src/app/passeio/detalhes/detalhes.page.scss","webpack:///src/app/passeio/detalhes/detalhes.page.ts"],"names":["routes","path","component","DetalhesPageRoutingModule","imports","forChild","exports","DetalhesPageModule","declarations","DetalhesPage","geolocation","activatedRoute","router","passeioService","passeio","cliente","passeioAtivo","passeioFinalizado","alterarStatusPasseio","watch","watchPosition","subscribe","data","latitude","longitude","postLocalizacaoPasseio","putAlterarStatus","passeioId","response","location","reload","params","forEach","param","getDetalhes","error","console","log","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,yBAAyB;AAAA;AAAA,O;;AAAzBA,+BAAyB,6DAJrC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIqC,GAAzBH,yBAAyB,CAAzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCGAI,kBAAkB;AAAA;AAAA,O;;AAAlBA,wBAAkB,6DAT9B,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,kFAJO,CADD;AAORI,oBAAY,EAAE,CAAC,2DAAD;AAPN,OAAT,CAS8B,GAAlBD,kBAAkB,CAAlB;;;;;;;;;;;;;;;;ACnBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCUFE,YAAY;AAEvB,8BACUC,WADV,EAEUC,cAFV,EAGUC,MAHV,EAIUC,cAJV,EAIwC;AAAA;;AAH9B,eAAAH,WAAA,GAAAA,WAAA;AACA,eAAAC,cAAA,GAAAA,cAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,cAAA,GAAAA,cAAA;AAGH,eAAAC,OAAA,GAAkB,EAAlB;AACA,eAAAC,OAAA,GAAkB,EAAlB;AACA,eAAAC,YAAA,GAAwB,KAAxB;AACA,eAAAC,iBAAA,GAA6B,KAA7B;AALF;;AAPkB;AAAA;AAAA,2CAiBT;AAAA;;AAEZ,iBAAKC,oBAAL;AAEA,gBAAIC,KAAK,GAAG,KAAKT,WAAL,CAAiBU,aAAjB,EAAZ;AACAD,iBAAK,CAACE,SAAN,CAAgB,UAACC,IAAD,EAAU;AAExB,mBAAI,CAACC,QAAL,GAAgBD,IAAI,CAAC,QAAD,CAAJ,CAAe,UAAf,CAAhB;AACA,mBAAI,CAACE,SAAL,GAAiBF,IAAI,CAAC,QAAD,CAAJ,CAAe,WAAf,CAAjB;;AAEA,mBAAI,CAACT,cAAL,CAAoBY,sBAApB,CACE,KAAI,CAACF,QADP,EAEE,KAAI,CAACC,SAFP,EAGE,KAAI,CAACV,OAAL,CAAa,IAAb,CAHF,EAIEO,SAJF;AAMD,aAXD;AAaD;AAnCsB;AAAA;AAAA,6CAqCP;AACd,iBAAKH,oBAAL;AACA,iBAAKD,iBAAL,GAAyB,CAAC,KAAKA,iBAA/B;AAEA,iBAAKJ,cAAL,CAAoBa,gBAApB,CAAqC,YAArC,EAAmD,KAAKC,SAAxD,EAAmEN,SAAnE,CAA6E,UAAAO,QAAQ,EAAI;AAEvF,kBAAGA,QAAH,EAAY;AACVC,wBAAQ,CAACC,MAAT;AACD;AAEF,aAND;AAQD;AAjDsB;AAAA;AAAA,iDAmDH;AAClB,iBAAKd,YAAL,GAAoB,CAAC,KAAKA,YAA1B;AACD;AArDsB;AAAA;AAAA,qCAuDZ;AAAA;;AAET,iBAAKL,cAAL,CAAoBoB,MAApB,CAA2BC,OAA3B,CAAmC,UAAAC,KAAK;AAAA,qBACtC,MAAI,CAACN,SAAL,GAAiBM,KAAK,CAAC,IAAD,CADgB;AAAA,aAAxC;;AAIA,gBAAI;AAEF,mBAAKpB,cAAL,CAAoBqB,WAApB,CAAgC,KAAKP,SAArC,EAAgDN,SAAhD,CAA0D,UAAAO,QAAQ,EAAI;AACpE,sBAAI,CAACd,OAAL,GAAec,QAAf;AACA,sBAAI,CAACb,OAAL,GAAea,QAAQ,CAAC,SAAD,CAAR,CAAoB,QAApB,CAAf;AACD,eAHD;AAKD,aAPD,CAOE,OAAOO,KAAP,EAAc;AACdC,qBAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AAEF;AAxEsB;;AAAA;AAAA,S;;;;gBARhB;;gBACQ;;gBAAR;;gBAFA;;;;AASI1B,kBAAY,6DALxB,gEAAU;AACT6B,gBAAQ,EAAE,cADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,0GAFS;;;;AAAA,OAAV,CAKwB,GAAZ9B,YAAY,CAAZ","file":"passeio-detalhes-detalhes-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>detalhes</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>\\n        {{cliente.nome}}\\n      </ion-card-title>\\n      <ion-card-subtitle>\\n        Passeio #{{passeio.id}} dia {{passeio.datahora}}\\n      </ion-card-subtitle>\\n      <ion-card-subtitle>\\n        Status: {{passeio.status}}\\n      </ion-card-subtitle>\\n    </ion-card-header>\\n  \\n    <ion-card-content *ngIf=\\\"!passeioFinalizado && passeio.status != 'Finalizado'\\\">\\n      <ion-button *ngIf=\\\"!passeioAtivo\\\" color=\\\"success\\\" size=\\\"small\\\" (click)=\\\"iniciarPasseio()\\\">Iniciar Passeio</ion-button>\\n      <ion-button *ngIf=\\\"passeioAtivo\\\" color=\\\"danger\\\" size=\\\"small\\\" (click)=\\\"finalizarPasseio()\\\">Finalizar Passeio</ion-button>\\n    </ion-card-content>\\n  </ion-card>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetalhesPage } from './detalhes.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetalhesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetalhesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetalhesPageRoutingModule } from './detalhes-routing.module';\n\nimport { DetalhesPage } from './detalhes.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DetalhesPageRoutingModule\n  ],\n  declarations: [DetalhesPage]\n})\nexport class DetalhesPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Bhc3NlaW8vZGV0YWxoZXMvZGV0YWxoZXMucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { PasseioService } from '../../services/passeio.service'\nimport { Geolocation } from '@ionic-native/geolocation/ngx'\nimport { Router, ActivatedRoute } from \"@angular/router\";\n\n@Component({\n  selector: 'app-detalhes',\n  templateUrl: './detalhes.page.html',\n  styleUrls: ['./detalhes.page.scss'],\n})\nexport class DetalhesPage implements OnInit {\n\n  constructor(\n    private geolocation: Geolocation,\n    private activatedRoute: ActivatedRoute,\n    private router: Router,\n    private passeioService: PasseioService\n  ) { }\n\n  public passeio: Object = {};\n  public cliente: Object = {}; \n  public passeioAtivo: Boolean = false;\n  public passeioFinalizado: Boolean = false;\n  public latitude: any;\n  public longitude: any;\n  public passeioId: any;\n\n  iniciarPasseio(){\n\n    this.alterarStatusPasseio();\n     \n    let watch = this.geolocation.watchPosition();\n    watch.subscribe((data) => {\n\n      this.latitude = data[\"coords\"][\"latitude\"];\n      this.longitude = data[\"coords\"][\"longitude\"];\n\n      this.passeioService.postLocalizacaoPasseio(\n        this.latitude,\n        this.longitude,\n        this.passeio[\"id\"]\n      ).subscribe();\n\n    });\n\n  }\n\n  finalizarPasseio(){\n    this.alterarStatusPasseio();\n    this.passeioFinalizado = !this.passeioFinalizado;\n\n    this.passeioService.putAlterarStatus(\"Finalizado\", this.passeioId).subscribe(response => {\n\n      if(response){\n        location.reload();\n      }\n\n    });\n\n  }\n\n  alterarStatusPasseio(){\n    this.passeioAtivo = !this.passeioAtivo\n  }\n\n  ngOnInit() {\n\n    this.activatedRoute.params.forEach(param =>\n      this.passeioId = param['id']\n    );\n\n    try {\n      \n      this.passeioService.getDetalhes(this.passeioId).subscribe(response => {\n        this.passeio = response\n        this.cliente = response[\"cliente\"][\"pessoa\"]\n      })\n\n    } catch (error) {\n      console.log(error)\n    }\n\n  }\n\n}\n"]}